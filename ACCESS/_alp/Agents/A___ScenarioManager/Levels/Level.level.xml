<?xml version="1.0" encoding="UTF-8"?>
<Presentation>
	<Group>
		<Id>1690284748026</Id>
		<Name><![CDATA[group_Background]]></Name>
		<X>0</X>
		<Y>620</Y>
		<Label>
			<X>10</X>
			<Y>0</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<Lock>true</Lock>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<EmbeddedIcon>false</EmbeddedIcon>
		<Z>0</Z>
		<Rotation>0.0</Rotation>
		<Presentation>
			<Group>
				<Id>1690285359956</Id>
				<Name><![CDATA[group_TitleBar]]></Name>
				<X>0</X>
				<Y>0</Y>
				<Label>
					<X>11.109</X>
					<Y>0</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Presentation>
					<Rectangle>
						<Id>1690285359958</Id>
						<Name><![CDATA[rectangle_BackgroundTitle]]></Name>
						<X>0</X>
						<Y>0</Y>
						<Label>
							<X>10</X>
							<Y>10</Y>
						</Label>
						<PublicFlag>false</PublicFlag>
						<PresentationFlag>true</PresentationFlag>
						<ShowLabel>false</ShowLabel>
						<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
						<EmbeddedIcon>false</EmbeddedIcon>
						<Z>0</Z>
						<ZHeight>10</ZHeight>
						<LineWidth>1</LineWidth>
						<LineColor/>
						<LineMaterial>null</LineMaterial>
						<LineStyle>SOLID</LineStyle>
						<Width>1000</Width>
						<Height>55</Height>
						<Rotation>0.0</Rotation>
						<FillColor>-5247250</FillColor>
						<FillMaterial>null</FillMaterial>
					</Rectangle>
					<Text>
						<Id>1690285359960</Id>
						<Name><![CDATA[text_ScenarioAssumptions]]></Name>
						<X>30</X>
						<Y>10</Y>
						<Label>
							<X>0</X>
							<Y>-10</Y>
						</Label>
						<PublicFlag>true</PublicFlag>
						<PresentationFlag>true</PresentationFlag>
						<ShowLabel>false</ShowLabel>
						<DrawMode>SHAPE_DRAW_2D</DrawMode>
						<EmbeddedIcon>false</EmbeddedIcon>
						<Z>0</Z>
						<Rotation>0.0</Rotation>
						<Color>-16777216</Color>
						<Text><![CDATA[Scenario Assumptions]]></Text>
						<Font>
							<Name><![CDATA[SansSerif]]></Name>
							<Size>24</Size>
							<Style>1</Style>
						</Font>
						<Alignment>LEFT</Alignment>
					</Text>
					<Polyline>
						<Id>1690285359962</Id>
						<Name><![CDATA[polyline_Overview]]></Name>
						<X>880</X>
						<Y>55</Y>
						<Label>
							<X>10</X>
							<Y>0</Y>
						</Label>
						<PublicFlag>false</PublicFlag>
						<PresentationFlag>true</PresentationFlag>
						<ShowLabel>false</ShowLabel>
						<DrawMode>SHAPE_DRAW_2D</DrawMode>
						<OnClickCode>f_Navigate(viewArea_Overview);</OnClickCode>
						<EmbeddedIcon>false</EmbeddedIcon>
						<Z>0</Z>
						<ZHeight>10</ZHeight>
						<LineWidth>1</LineWidth>
						<LineColor/>
						<LineMaterial>null</LineMaterial>
						<LineStyle>SOLID</LineStyle>
						<BeginArrowSize>1</BeginArrowSize>
						<BeginArrowStyle>0</BeginArrowStyle>
						<EndArrowSize>1</EndArrowSize>
						<EndArrowStyle>0</EndArrowStyle>
						<FillColor>-2031617</FillColor>
						<FillColorCode>v_SelectedViewArea == viewArea_Overview ? 
	new Color(224, 255, 255) : new Color(0, 206, 209)
	/* lightCyan : darkTurquoise */</FillColorCode>
						<FillMaterial>null</FillMaterial>
						<Points>
							<Point>
								<X>0</X>
								<Y>0</Y>
								<Z>0</Z>
							</Point>
							<Point>
								<X>0</X>
								<Y>-55</Y>
								<Z>0</Z>
							</Point>
							<Point>
								<X>120</X>
								<Y>-55</Y>
								<Z>0</Z>
							</Point>
							<Point>
								<X>120</X>
								<Y>0</Y>
								<Z>0</Z>
							</Point>
						</Points>
						<Closed>false</Closed>
					</Polyline>
					<Text>
						<Id>1690285359964</Id>
						<Name><![CDATA[text_Overview]]></Name>
						<X>890</X>
						<Y>10</Y>
						<Label>
							<X>0</X>
							<Y>-10</Y>
						</Label>
						<PublicFlag>false</PublicFlag>
						<PresentationFlag>true</PresentationFlag>
						<ShowLabel>false</ShowLabel>
						<DrawMode>SHAPE_DRAW_2D</DrawMode>
						<EmbeddedIcon>false</EmbeddedIcon>
						<Z>0</Z>
						<Rotation>0.0</Rotation>
						<Color>-16777216</Color>
						<Text><![CDATA[Overview]]></Text>
						<Font>
							<Name><![CDATA[SansSerif]]></Name>
							<Size>24</Size>
							<Style>0</Style>
						</Font>
						<Alignment>LEFT</Alignment>
					</Text>
					<Polyline>
						<Id>1690289019656</Id>
						<Name><![CDATA[polyline_Logic]]></Name>
						<X>760</X>
						<Y>55</Y>
						<Label>
							<X>10</X>
							<Y>0</Y>
						</Label>
						<PublicFlag>false</PublicFlag>
						<PresentationFlag>true</PresentationFlag>
						<ShowLabel>false</ShowLabel>
						<DrawMode>SHAPE_DRAW_2D</DrawMode>
						<OnClickCode>f_Navigate(viewArea_Logic);</OnClickCode>
						<EmbeddedIcon>false</EmbeddedIcon>
						<Z>0</Z>
						<ZHeight>10</ZHeight>
						<LineWidth>1</LineWidth>
						<LineColor/>
						<LineMaterial>null</LineMaterial>
						<LineStyle>SOLID</LineStyle>
						<BeginArrowSize>1</BeginArrowSize>
						<BeginArrowStyle>0</BeginArrowStyle>
						<EndArrowSize>1</EndArrowSize>
						<EndArrowStyle>0</EndArrowStyle>
						<FillColor>-16724271</FillColor>
						<FillColorCode>v_SelectedViewArea == viewArea_Logic ? 
	new Color(224, 255, 255) : new Color(0, 206, 209)
	/* lightCyan : darkTurquoise */</FillColorCode>
						<FillMaterial>null</FillMaterial>
						<Points>
							<Point>
								<X>0</X>
								<Y>0</Y>
								<Z>0</Z>
							</Point>
							<Point>
								<X>0</X>
								<Y>-55</Y>
								<Z>0</Z>
							</Point>
							<Point>
								<X>120</X>
								<Y>-55</Y>
								<Z>0</Z>
							</Point>
							<Point>
								<X>120</X>
								<Y>0</Y>
								<Z>0</Z>
							</Point>
						</Points>
						<Closed>false</Closed>
					</Polyline>
					<Text>
						<Id>1690289019658</Id>
						<Name><![CDATA[text_Logic]]></Name>
						<X>791</X>
						<Y>10</Y>
						<Label>
							<X>0</X>
							<Y>-10</Y>
						</Label>
						<PublicFlag>false</PublicFlag>
						<PresentationFlag>true</PresentationFlag>
						<ShowLabel>false</ShowLabel>
						<DrawMode>SHAPE_DRAW_2D</DrawMode>
						<EmbeddedIcon>false</EmbeddedIcon>
						<Z>0</Z>
						<Rotation>0.0</Rotation>
						<Color>-16777216</Color>
						<Text><![CDATA[Logic]]></Text>
						<Font>
							<Name><![CDATA[SansSerif]]></Name>
							<Size>24</Size>
							<Style>0</Style>
						</Font>
						<Alignment>LEFT</Alignment>
					</Text>
				</Presentation>
			</Group>
			<Rectangle>
				<Id>1690285364832</Id>
				<Name><![CDATA[rectangle_BackgroundBody]]></Name>
				<X>0</X>
				<Y>55</Y>
				<Label>
					<X>10</X>
					<Y>10</Y>
				</Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<ZHeight>10</ZHeight>
				<LineWidth>1</LineWidth>
				<LineColor/>
				<LineMaterial>null</LineMaterial>
				<LineStyle>SOLID</LineStyle>
				<Width>1000</Width>
				<Height>545</Height>
				<Rotation>0.0</Rotation>
				<FillColor>-2031617</FillColor>
				<FillMaterial>null</FillMaterial>
			</Rectangle>
		</Presentation>
	</Group>
	<Group>
		<Id>1689252566406</Id>
		<Name><![CDATA[group_AgentSpecification]]></Name>
		<X>500</X>
		<Y>190</Y>
		<Label>
			<X>10</X>
			<Y>0</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<Lock>true</Lock>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<EmbeddedIcon>false</EmbeddedIcon>
		<Z>0</Z>
		<Rotation>0.0</Rotation>
		<Presentation>
			<Rectangle>
				<Id>1689249100220</Id>
				<Name><![CDATA[rectangle]]></Name>
				<X>-480</X>
				<Y>-120</Y>
				<Label>
					<X>10</X>
					<Y>10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<ZHeight>10</ZHeight>
				<LineWidth>1</LineWidth>
				<LineColor>-4144960</LineColor>
				<LineMaterial>null</LineMaterial>
				<LineStyle>SOLID</LineStyle>
				<Width>970</Width>
				<Height>480</Height>
				<Rotation>0.0</Rotation>
				<FillColor>-4144960</FillColor>
				<FillMaterial>null</FillMaterial>
			</Rectangle>
			<Rectangle>
				<Id>1689249201236</Id>
				<Name><![CDATA[rectangle1]]></Name>
				<X>-470</X>
				<Y>-90</Y>
				<Label>
					<X>10</X>
					<Y>10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<ZHeight>10</ZHeight>
				<LineWidth>1</LineWidth>
				<LineColor>-32944</LineColor>
				<LineMaterial>null</LineMaterial>
				<LineStyle>SOLID</LineStyle>
				<Width>230</Width>
				<Height>440</Height>
				<Rotation>0.0</Rotation>
				<FillColor>-32944</FillColor>
				<FillMaterial>null</FillMaterial>
			</Rectangle>
			<Text>
				<Id>1689249669274</Id>
				<Name><![CDATA[text]]></Name>
				<X>-460</X>
				<Y>-80</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Agents & Embedded Structure]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>12</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Rectangle>
				<Id>1689249246709</Id>
				<Name><![CDATA[rectangle3]]></Name>
				<X>10</X>
				<Y>-90</Y>
				<Label>
					<X>10</X>
					<Y>10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<ZHeight>10</ZHeight>
				<LineWidth>1</LineWidth>
				<LineColor>-10496</LineColor>
				<LineMaterial>null</LineMaterial>
				<LineStyle>SOLID</LineStyle>
				<Width>230</Width>
				<Height>440</Height>
				<Rotation>0.0</Rotation>
				<FillColor>-10496</FillColor>
				<FillMaterial>null</FillMaterial>
			</Rectangle>
			<Text>
				<Id>1689249721196</Id>
				<Name><![CDATA[text2]]></Name>
				<X>20</X>
				<Y>-80</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Variables, Collections & Links]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>12</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Rectangle>
				<Id>1689249253363</Id>
				<Name><![CDATA[rectangle4]]></Name>
				<X>250</X>
				<Y>-90</Y>
				<Label>
					<X>10</X>
					<Y>10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<ZHeight>10</ZHeight>
				<LineWidth>1</LineWidth>
				<LineColor>-16728065</LineColor>
				<LineMaterial>null</LineMaterial>
				<LineStyle>SOLID</LineStyle>
				<Width>230</Width>
				<Height>440</Height>
				<Rotation>0.0</Rotation>
				<FillColor>-16728065</FillColor>
				<FillMaterial>null</FillMaterial>
			</Rectangle>
			<Text>
				<Id>1689249800407</Id>
				<Name><![CDATA[text3]]></Name>
				<X>260</X>
				<Y>-80</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Functions]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>12</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Rectangle>
				<Id>1689249243828</Id>
				<Name><![CDATA[rectangle2]]></Name>
				<X>-230</X>
				<Y>-90</Y>
				<Label>
					<X>10</X>
					<Y>10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<ZHeight>10</ZHeight>
				<LineWidth>1</LineWidth>
				<LineColor>-6632142</LineColor>
				<LineMaterial>null</LineMaterial>
				<LineStyle>SOLID</LineStyle>
				<Width>230</Width>
				<Height>440</Height>
				<Rotation>0.0</Rotation>
				<FillColor>-6632142</FillColor>
				<FillMaterial>null</FillMaterial>
			</Rectangle>
			<Text>
				<Id>1689249703664</Id>
				<Name><![CDATA[text1]]></Name>
				<X>-220</X>
				<Y>-80</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Parameters]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>12</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Text>
				<Id>1689252594858</Id>
				<Name><![CDATA[text4]]></Name>
				<X>-470</X>
				<Y>-110</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[A___ScenarioManager: holds and handles the scenario (scenario logic, input POJO, output POJOs, and UI)]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>14</Size>
					<Style>1</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
		</Presentation>
	</Group>
	<Control Type="Button">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1689622781504</Id>
		<Name><![CDATA[button_CreateScenario]]></Name>
		<X>440</X>
		<Y>1140</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="120" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>false</Enabled>
			<ActionCode>self.setEnabled( false );

f_CreateScenario( f_GetSelectedViewArea(), f_LoadHouseholdsData(), f_LoadEnergyCommunitiesData(), f_LoadDistributionSystemOperatorsData(), f_LoadLVDistributionFeedersData() );

button_ScenarioUI.setEnabled( true );
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Create Scenario</LabelText>
		</ExtendedProperties>
	</Control>
	<Control Type="Button">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1689845556266</Id>
		<Name><![CDATA[button_ScenarioUI]]></Name>
		<X>440</X>
		<Y>1180</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="120" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<VisibleCode>//!(button_LoadScenario.isEnabled())</VisibleCode>
			<Enabled>false</Enabled>
			<ActionCode>pop_UIScenarios.get( 0 ).f_GetSelectedViewArea().navigateTo();
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Scenario UI</LabelText>
		</ExtendedProperties>
	</Control>
	<Control Type="Button">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1689964629037</Id>
		<Name><![CDATA[button_Stop]]></Name>
		<X>890</X>
		<Y>1180</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="100" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>true</Enabled>
			<EnableExpression>getEngine().getState() != getEngine().IDLE</EnableExpression>
			<ActionCode>if(getEngine().stop()) {
	traceln("The engine is stopped.");
} else { //sanity check
	error("The engine is not stopped at the click of the button. The engine state is: " + getEngine().getState());
}</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Stop</LabelText>
		</ExtendedProperties>
	</Control>
	<Control Type="Button">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1689964749715</Id>
		<Name><![CDATA[button_Finish]]></Name>
		<X>890</X>
		<Y>1140</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="100" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>true</Enabled>
			<EnableExpression>getEngine().getState() == getEngine().RUNNING || getEngine().getState() == getEngine().PAUSED</EnableExpression>
			<ActionCode>if(getEngine().finish()) {
	traceln("The engine run is finished.");
} else { //sanity check
	error("The engine run is not finished at the click of the button. The engine state is: " + getEngine().getState());
}
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Finish</LabelText>
		</ExtendedProperties>
	</Control>
	<Control Type="CheckBox">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1690045418111</Id>
		<Name><![CDATA[checkbox_LVElectricityGrid]]></Name>
		<X>10</X>
		<Y>750</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="180" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>false</Enabled>
			<ActionCode>if(value) {
	//TODO
} else {	
	//Do nothing
}
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Low-voltage (LV) electricity grid</LabelText>
			<DefaultValueCode>false // TODO</DefaultValueCode>
			<LinkTo>false</LinkTo>
		</ExtendedProperties>
	</Control>
	<Text>
		<Id>1690045584928</Id>
		<Name><![CDATA[text5]]></Name>
		<X>10</X>
		<Y>730</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D</DrawMode>
		<EmbeddedIcon>false</EmbeddedIcon>
		<Z>0</Z>
		<Rotation>0.0</Rotation>
		<Color>-16777216</Color>
		<Text><![CDATA[The scenario comprise:]]></Text>
		<Font>
			<Name><![CDATA[SansSerif]]></Name>
			<Size>10</Size>
			<Style>0</Style>
		</Font>
		<Alignment>LEFT</Alignment>
	</Text>
	<Control Type="CheckBox">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1690359972645</Id>
		<Name><![CDATA[checkbox_Household]]></Name>
		<X>10</X>
		<Y>810</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="120" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>false</Enabled>
			<ActionCode>if(value) {
	//TODO
} else {	
	//Do nothing
}
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Household</LabelText>
			<DefaultValueCode>true</DefaultValueCode>
			<LinkTo>false</LinkTo>
		</ExtendedProperties>
	</Control>
	<Control Type="CheckBox">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1690360507556</Id>
		<Name><![CDATA[checkbox_DistributionSystemOperator]]></Name>
		<X>10</X>
		<Y>780</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="210" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>false</Enabled>
			<ActionCode>if(value) {
	//TODO
} else {	
	//Do nothing
}
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Distribution System Operator (DSO)</LabelText>
			<DefaultValueCode>false // TODO</DefaultValueCode>
			<LinkTo>false</LinkTo>
		</ExtendedProperties>
	</Control>
	<Group>
		<Id>1690367748380</Id>
		<Name><![CDATA[group_EnergyCommunityAssumptions]]></Name>
		<X>550</X>
		<Y>1010</Y>
		<Label>
			<X>10</X>
			<Y>0</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>false</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<VisibleCode>checkbox_EnergyCommunity.isSelected()</VisibleCode>
		<EmbeddedIcon>false</EmbeddedIcon>
		<Z>0</Z>
		<Rotation>0.0</Rotation>
		<Presentation>
			<Text>
				<Id>1690361490233</Id>
				<Name><![CDATA[text_CommunityPopulationRatio]]></Name>
				<X>-410</X>
				<Y>-40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Household member - household population ratio [%]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Control Type="RadioButtons">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690361490235</Id>
				<Name><![CDATA[radio_CommunityPopulationRatio]]></Name>
				<X>-410</X>
				<Y>-30</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="230" Height="30">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<EnableExpression>checkbox_EnergyCommunity.isSelected()</EnableExpression>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<Orientation>HORIZONTAL</Orientation>
					<Button>0%</Button>
					<Button>25%</Button>
					<Button>50%</Button>
					<Button>75%</Button>
					<Button>100%</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Text>
				<Id>1690362485348</Id>
				<Name><![CDATA[text_CommunityProsumerConsumerRatio]]></Name>
				<X>-130</X>
				<Y>-40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Prosumer member - consumer member ratio [%]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Control Type="RadioButtons">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690362485364</Id>
				<Name><![CDATA[radio_CommunityProsumerConsumerRatio]]></Name>
				<X>-130</X>
				<Y>-30</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="230" Height="30">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<EnableExpression>checkbox_EnergyCommunity.isSelected()</EnableExpression>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<Orientation>HORIZONTAL</Orientation>
					<Button>0%</Button>
					<Button>25%</Button>
					<Button>50%</Button>
					<Button>75%</Button>
					<Button>100%</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="RadioButtons">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690363281449</Id>
				<Name><![CDATA[radio_CommunityCollaborativeMemberRatio]]></Name>
				<X>140</X>
				<Y>-30</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="230" Height="30">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<EnableExpression>checkbox_EnergyCommunity.isSelected()</EnableExpression>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<Orientation>HORIZONTAL</Orientation>
					<Button>0%</Button>
					<Button>25%</Button>
					<Button>50%</Button>
					<Button>75%</Button>
					<Button>100%</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Text>
				<Id>1690363281451</Id>
				<Name><![CDATA[text_CommunityCollaborativeMemberRatio]]></Name>
				<X>140</X>
				<Y>-40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Collaborative member - non-collaborative member ratio [%]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Control Type="CheckBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690364854285</Id>
				<Name><![CDATA[checkbox_DSOCollaboration]]></Name>
				<X>140</X>
				<Y>0</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="170" Height="30">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<EnableExpression>radio_CommunityCollaborativeMemberRatio.getValue() &gt; 0</EnableExpression>
					<ActionCode>if(value) {
	//TODO
} else {	
	//Do nothing
}
</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<LabelText>Collaboration with the DSO </LabelText>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
		</Presentation>
	</Group>
	<Control Type="CheckBox">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1690045618514</Id>
		<Name><![CDATA[checkbox_EnergyCommunity]]></Name>
		<X>10</X>
		<Y>960</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="120" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>false</Enabled>
			<ActionCode>if(value) {
	//TODO
} else {	
	//Do nothing
}
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Energy community</LabelText>
			<DefaultValueCode>false // TODO</DefaultValueCode>
			<LinkTo>false</LinkTo>
		</ExtendedProperties>
	</Control>
	<Group>
		<Id>1690368193797</Id>
		<Name><![CDATA[group_HouseholdAssumptions]]></Name>
		<X>350</X>
		<Y>880</Y>
		<Label>
			<X>10</X>
			<Y>0</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<EmbeddedIcon>false</EmbeddedIcon>
		<Z>0</Z>
		<Rotation>0.0</Rotation>
		<Presentation>
			<Text>
				<Id>1690360309531</Id>
				<Name><![CDATA[text_HouseholdConsumptionProfile]]></Name>
				<X>10</X>
				<Y>-40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Household consumption profile [kWh]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Text>
				<Id>1690360329287</Id>
				<Name><![CDATA[text_HouseholdProductionProfile]]></Name>
				<X>10</X>
				<Y>20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Prosumer household production profile [kWh]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Text>
				<Id>1690360814468</Id>
				<Name><![CDATA[text_HouseholdPopulation]]></Name>
				<X>-320</X>
				<Y>-40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Household population in the neighborhood [number]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Text>
				<Id>1690362146114</Id>
				<Name><![CDATA[text_ProsumerHousehold]]></Name>
				<X>-320</X>
				<Y>20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D</DrawMode>
				<EmbeddedIcon>false</EmbeddedIcon>
				<Z>0</Z>
				<Rotation>0.0</Rotation>
				<Color>-16777216</Color>
				<Text><![CDATA[Prosumer household - all household ratio [%]:]]></Text>
				<Font>
					<Name><![CDATA[SansSerif]]></Name>
					<Size>10</Size>
					<Style>0</Style>
				</Font>
				<Alignment>LEFT</Alignment>
			</Text>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690468186870</Id>
				<Name><![CDATA[combobox_HouseholdPopulation]]></Name>
				<X>-140</X>
				<Y>-20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="70" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<Enabled>false</Enabled>
					<ActionCode>set_p_HouseholdPopulation(self.getIntValue());

button_ToHouseholdConsumptionProfileSelection.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>200</Button>
					<Button>400</Button>
					<Button>600</Button>
					<Button>800</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="RadioButtons">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690362223032</Id>
				<Name><![CDATA[radio_ProsumerHouseholdRatio]]></Name>
				<X>-320</X>
				<Y>30</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="230" Height="30">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<ActionCode>// The functionality of radio buttons is in their "next" button.</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>0</DefaultValueCode>
					<Orientation>HORIZONTAL</Orientation>
					<Button>0%</Button>
					<Button>25%</Button>
					<Button>50%</Button>
					<Button>75%</Button>
					<Button>100%</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690360213915</Id>
				<Name><![CDATA[combobox_HouseholdConsumptionProfile_Hours]]></Name>
				<X>208.352</X>
				<Y>-20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="180" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<VisibleCode>//false</VisibleCode>
					<Enabled>false</Enabled>
					<ActionCode>//Create an empty list of consumption profiles
ArrayList&lt;ArrayList&lt;Double&gt;&gt; householdsConsumptionProfiles = new ArrayList&lt;&gt;();

for( int i = 0; i &lt; p_HouseholdPopulation; i++ ) {
	householdsConsumptionProfiles.add( new ArrayList&lt;&gt;() );
}

//Create a temporary list of corresponding consumption DB table
List&lt;Tuple&gt; consumption_hour_rows = selectFrom(db_in_consumption_profiles_24hours).list();

//Fill-in the empty list of consumption profiles
switch (value) {
		
	case "CHOOSE":
		error("Household consumption profile has not been set!");
		break;
			
	case "zero":
		householdsConsumptionProfiles.forEach( profile -&gt; 
		  	consumption_hour_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_consumption_profiles_24hours.zero_kwh ) )
			)
		);
		break;
		
	case "household_cbs_noon_peak":
		//An stochastic noise of type triangular distribution is multiplied.  
		householdsConsumptionProfiles.forEach( profile -&gt; 
		  	consumption_hour_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_consumption_profiles_24hours.household_cbs_noon_peak_kwh ) * triangular(0, 2, 1) )
			)
		);		
		break;
				
	case "household_cbs_morning_evening_peak":
		//An stochastic noise of type triangular distribution is multiplied.
		householdsConsumptionProfiles.forEach( profile -&gt; 
		  	consumption_hour_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_consumption_profiles_24hours.household_cbs_morning_evening_peak_kwh ) * triangular(0, 2, 1) )
			)
		);		
		break;
}

//Set the parameter to the filled list
set_p_HouseholdsConsumptionProfiles( householdsConsumptionProfiles );

button_ToProsumerHouseholdRatioSelection.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>zero</Button>
					<Button>household_cbs_noon_peak</Button>
					<Button>household_cbs_morning_evening_peak</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690450186285</Id>
				<Name><![CDATA[combobox_HouseholdConsumptionProfile_Quarters]]></Name>
				<X>389.292</X>
				<Y>-20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="180" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<VisibleCode>//false</VisibleCode>
					<Enabled>false</Enabled>
					<ActionCode>//Create an empty list of consumption profiles
ArrayList&lt;ArrayList&lt;Double&gt;&gt; householdsConsumptionProfiles = new ArrayList&lt;&gt;();

for( int i = 0 ; i &lt; p_HouseholdPopulation ; i++ ) {
	householdsConsumptionProfiles.add( new ArrayList&lt;&gt;() );
}

//Create a temporary list of corresponding consumption DB table
List&lt;Tuple&gt; consumption_quarter_rows = selectFrom(db_in_consumption_profiles_96quarters).list();

//Fill-in the empty list of consumption profiles
switch (value) {
	case "CHOOSE":
		error("Household consumption profile has not been set!");
		break;
				
	case "zero":
		householdsConsumptionProfiles.forEach( profile -&gt; 
			consumption_quarter_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_consumption_profiles_96quarters.zero_kwh ) )
			)
		);
		break;
}

//Set the parameter to the filled list
set_p_HouseholdsConsumptionProfiles( householdsConsumptionProfiles );

button_ToProsumerHouseholdRatioSelection.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>zero</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690450088654</Id>
				<Name><![CDATA[combobox_HouseholdConsumptionProfile_Minutes]]></Name>
				<X>27.412</X>
				<Y>-20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="180" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<VisibleCode>//false</VisibleCode>
					<Enabled>false</Enabled>
					<ActionCode>//Create an empty list of consumption profiles
ArrayList&lt;ArrayList&lt;Double&gt;&gt; householdsConsumptionProfiles = new ArrayList&lt;&gt;();

for( int i = 0 ; i &lt; p_HouseholdPopulation ; i++ ) {
	householdsConsumptionProfiles.add( new ArrayList&lt;&gt;() );
}

//Create a temporary list of corresponding consumption DB table
List&lt;Tuple&gt; consumption_minute_rows = selectFrom(db_in_consumption_profiles_1440minutes).list();

//Fill-in the empty list of consumption profiles
switch (value) {
	case "CHOOSE":
		error( "Household consumption profile has not been set!" );
		break;
		
	case "zero":
		householdsConsumptionProfiles.forEach( profile -&gt; 
			consumption_minute_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_consumption_profiles_1440minutes.zero_kwh ) )
			)
		);
		break;
}

//Set the parameter to the filled list
set_p_HouseholdsConsumptionProfiles( householdsConsumptionProfiles );

button_ToProsumerHouseholdRatioSelection.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>zero</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690360406108</Id>
				<Name><![CDATA[combobox_HouseholdProductionProfile_Hours]]></Name>
				<X>208.352</X>
				<Y>40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="180" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<VisibleCode>//false</VisibleCode>
					<Enabled>false</Enabled>
					<ActionCode>//Create an empty list of production profiles
ArrayList&lt;ArrayList&lt;Double&gt;&gt; householdsProductionProfiles = new ArrayList&lt;&gt;();

for( int i = 0 ; i &lt; p_HouseholdPopulation ; i++ ) {
	householdsProductionProfiles.add( new ArrayList&lt;&gt;() );
}

//Create a temporary list of corresponding production DB table
List&lt;Tuple&gt; production_hour_rows = selectFrom(db_in_production_profiles_24hours).list();
		
//Fill-in the empty list of production profiles
switch (value) {
			
	case "CHOOSE":
		error("Household Production profile has not been set!");
		break;
				
	case "zero":
		householdsProductionProfiles.forEach( profile -&gt; 
		  	production_hour_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_production_profiles_24hours.zero_kwh ) )
			)
		);
		break;
			
	case "household_sample_solar": 
		for(int i = 0; i &lt; p_HouseholdsGridUsageTypes.size(); i++ ) {
			
			final int currIndex = i; // Capture the value of i in a final variable. It ensure that each lambda expression captures its own copy of the index value.
			
			if( p_HouseholdsGridUsageTypes.get( currIndex ).equals(PROSUMER) ) {
				
				//An stochastic noise of type triangular distribution is multiplied. 
				production_hour_rows.forEach( row -&gt; 
					householdsProductionProfiles.get( currIndex ).add( row.get( db_in_production_profiles_24hours.household_sample_solar_kwh ) * triangular( 0, 2, 1 )	)
				);
			} else if( p_HouseholdsGridUsageTypes.get( currIndex ).equals(CONSUMER) ) {
				
				production_hour_rows.forEach( row -&gt; 
					householdsProductionProfiles.get( currIndex ).add( row.get( db_in_production_profiles_24hours.zero_kwh ) )
				);
			}
		}
		break;				
}	

//Set the parameter to the filled list
set_p_HouseholdsProductionProfiles( householdsProductionProfiles );		

button_ToCreateScenario.setEnabled(true);	</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>zero</Button>
					<Button>household_sample_solar</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690450349133</Id>
				<Name><![CDATA[combobox_HouseholdProductionProfile_Quarters]]></Name>
				<X>389.292</X>
				<Y>40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="180" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<VisibleCode>//false</VisibleCode>
					<Enabled>false</Enabled>
					<ActionCode>//Create an empty list of production profiles
ArrayList&lt;ArrayList&lt;Double&gt;&gt; householdsProductionProfiles = new ArrayList&lt;&gt;();

for( int i = 0 ; i &lt; p_HouseholdPopulation ; i++ ) {
	householdsProductionProfiles.add( new ArrayList&lt;&gt;() );
}

//Create a temporary list of corresponding Production DB table
List&lt;Tuple&gt; production_quarter_rows = selectFrom(db_in_production_profiles_96quarters).list();
	
//Fill-in the empty list of production profiles
switch (value) {
			
	case "CHOOSE":
		error("Household Production profile has not been set!");
		break;
				
	case "zero":
		householdsProductionProfiles.forEach( profile -&gt; 
		  	production_quarter_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_production_profiles_96quarters.zero_kwh ) )
			)
		);
		break;
}

//Set the parameter to the filled list
set_p_HouseholdsProductionProfiles( householdsProductionProfiles );		

button_ToCreateScenario.setEnabled(true);	</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>zero</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="ComboBox">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690450393293</Id>
				<Name><![CDATA[combobox_HouseholdProductionProfile_Minutes]]></Name>
				<X>27.412</X>
				<Y>40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="180" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<FillColor/>
					<TextColor/>
					<VisibleCode>//false</VisibleCode>
					<Enabled>false</Enabled>
					<ActionCode>//Create an empty list of production profiles
ArrayList&lt;ArrayList&lt;Double&gt;&gt; householdsProductionProfiles = new ArrayList&lt;&gt;();

for( int i = 0 ; i &lt; p_HouseholdPopulation ; i++ ) {
	householdsProductionProfiles.add( new ArrayList&lt;&gt;() );
}

//Create a temporary list of corresponding Production DB table
List&lt;Tuple&gt; production_minute_rows = selectFrom(db_in_production_profiles_1440minutes).list();
	
//Fill-in the empty list of production profiles
switch (value) {
			
	case "CHOOSE":
		error("Household Production profile has not been set!");
		break;
				
	case "zero":
		householdsProductionProfiles.forEach( profile -&gt; 
		  	production_minute_rows.forEach( row -&gt; 
				profile.add( row.get( db_in_production_profiles_1440minutes.zero_kwh ) )
			)
		);
		break;
}

//Set the parameter to the filled list
set_p_HouseholdsProductionProfiles( householdsProductionProfiles );	

button_ToCreateScenario.setEnabled(true);	</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<DefaultValueCode>"CHOOSE"</DefaultValueCode>
					<Editable>false</Editable>
					<Button>zero</Button>
					<LinkTo>false</LinkTo>
				</ExtendedProperties>
			</Control>
			<Control Type="Button">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690649475511</Id>
				<Name><![CDATA[button_ToHouseholdConsumptionProfileSelection]]></Name>
				<X>-60</X>
				<Y>-20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="60" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<ActionCode>combobox_HouseholdPopulation.setEnabled(false);

self.setEnabled(false);

v_HouseholdConsumptionProfileCB.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<LabelText>next</LabelText>
				</ExtendedProperties>
			</Control>
			<Control Type="Button">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690650625194</Id>
				<Name><![CDATA[button_ToHouseholdProductionProfileSelection]]></Name>
				<X>-60</X>
				<Y>40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="60" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<ActionCode>radio_ProsumerHouseholdRatio.setEnabled(false);

self.setEnabled(false);

/* Set the single value of a related parameter */ 
switch( radio_ProsumerHouseholdRatio.getValue() ) {
	case 0:
		set_p_ProsumerHouseholdRatio(0.0);
		break;
		
	case 1:
		set_p_ProsumerHouseholdRatio(0.25);
		break;

	case 2:
		set_p_ProsumerHouseholdRatio(0.50);
		break;
		
	case 3:
		set_p_ProsumerHouseholdRatio(0.75);
		break;

	case 4:
		set_p_ProsumerHouseholdRatio(1.0);
		break;
}

/* Set the list values of a related parameter */ 
List&lt;OL_GridUsageType&gt; HouseholdsGridUsageTypes = new ArrayList&lt;&gt;();

//Initially, make all the population consumers
for( int i = 0; i &lt; p_HouseholdPopulation; i++ ) {
	HouseholdsGridUsageTypes.add( OL_GridUsageType.CONSUMER );
}

//Then, make some of the population prosumers

double ratio = 0.0;

while ( ratio &lt; p_ProsumerHouseholdRatio ) {
	
	int candidateProsumerIndex = uniform_discr( HouseholdsGridUsageTypes.size() - 1 );
	
	HouseholdsGridUsageTypes.set( candidateProsumerIndex, OL_GridUsageType.PROSUMER);
	
	ratio = (double) HouseholdsGridUsageTypes.stream().filter( t -&gt; t.equals(OL_GridUsageType.PROSUMER) ).count()
			/ p_HouseholdPopulation;
} 

set_p_HouseholdsGridUsageTypes( HouseholdsGridUsageTypes );

/* UI adaptation based on the selected ratio */
switch (radio_ProsumerHouseholdRatio.getValue()) {

	case 0:
		v_HouseholdProductionProfileCB.setValue( "zero" , true );
		break;
	
	default:
		v_HouseholdProductionProfileCB.setEnabled(true);
		break;
}
</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<LabelText>next</LabelText>
				</ExtendedProperties>
			</Control>
			<Control Type="Button">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690650245298</Id>
				<Name><![CDATA[button_ToProsumerHouseholdRatioSelection]]></Name>
				<X>580</X>
				<Y>-20</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="60" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<ActionCode>v_HouseholdConsumptionProfileCB.setEnabled(false);

self.setEnabled(false);

radio_ProsumerHouseholdRatio.setEnabled(true);
button_ToHouseholdProductionProfileSelection.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<LabelText>next</LabelText>
				</ExtendedProperties>
			</Control>
			<Control Type="Button">
				<EmbeddedIcon>false</EmbeddedIcon>
				<Id>1690650766140</Id>
				<Name><![CDATA[button_ToCreateScenario]]></Name>
				<X>580</X>
				<Y>40</Y>
				<Label>
					<X>0</X>
					<Y>-10</Y>
				</Label>
				<PublicFlag>true</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<BasicProperties Width="60" Height="20">
					<EmbeddedIcon>false</EmbeddedIcon>
					<TextColor/>
					<Enabled>false</Enabled>
					<ActionCode>v_HouseholdProductionProfileCB.setEnabled(false);

self.setEnabled(false);

button_CreateScenario.setEnabled(true);</ActionCode>
				</BasicProperties>
				<ExtendedProperties>
					<Font Name="Dialog" Size="11" Style="0"/>
					<LabelText>next</LabelText>
				</ExtendedProperties>
			</Control>
		</Presentation>
	</Group>
	<Control Type="ComboBox">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1690368752232</Id>
		<Name><![CDATA[combobox_EnergyUsageResolution]]></Name>
		<X>140</X>
		<Y>680</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="100" Height="20">
			<EmbeddedIcon>false</EmbeddedIcon>
			<FillColor/>
			<TextColor/>
			<Enabled>true</Enabled>
			<ActionCode>button_LoadTestData.setEnabled( false );

switch ( value ) {
	
	case "MINUTES":
		set_p_EnergyUsageResolution( OL_EnergyUsageResolution.MINUTES );
		set_p_NumberOfDailyTimeSteps(1440);
		v_Engine.setStopTime( ( p_NumberOfDailyTimeSteps - 1 ), v_Engine.getTimeUnit() );
		break;
	
	case "HOURS":
		set_p_EnergyUsageResolution( OL_EnergyUsageResolution.HOURS );
		set_p_NumberOfDailyTimeSteps(24);
		v_Engine.setStopTime( ( p_NumberOfDailyTimeSteps - 1 ), v_Engine.getTimeUnit() );
		break;
			
	case "QUARTERS":
		set_p_EnergyUsageResolution( OL_EnergyUsageResolution.QUARTERS );
		set_p_NumberOfDailyTimeSteps(96);
		v_Engine.setStopTime( ( p_NumberOfDailyTimeSteps - 1 ), v_Engine.getTimeUnit() );
		break;
}

button_ToAgentPopulationAssumptions.setEnabled( true );</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<DefaultValueCode>"CHOOSE"</DefaultValueCode>
			<Editable>false</Editable>
			<Button>MINUTES</Button>
			<Button>HOURS</Button>
			<Button>QUARTERS</Button>
			<LinkTo>false</LinkTo>
		</ExtendedProperties>
	</Control>
	<Text>
		<Id>1690368752248</Id>
		<Name><![CDATA[text_EnergyUsageResolution]]></Name>
		<X>10</X>
		<Y>680</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D</DrawMode>
		<EmbeddedIcon>false</EmbeddedIcon>
		<Z>0</Z>
		<Rotation>0.0</Rotation>
		<Color>-16777216</Color>
		<Text><![CDATA[Energy usage resolution:]]></Text>
		<Font>
			<Name><![CDATA[SansSerif]]></Name>
			<Size>10</Size>
			<Style>0</Style>
		</Font>
		<Alignment>LEFT</Alignment>
	</Text>
	<Control Type="Button">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1690559996508</Id>
		<Name><![CDATA[button_ToAgentPopulationAssumptions]]></Name>
		<X>250</X>
		<Y>680</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="60" Height="20">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>false</Enabled>
			<ActionCode>combobox_EnergyUsageResolution.setEnabled(false);

self.setEnabled(false);

switch (p_EnergyUsageResolution) {
	
	case MINUTES:
		v_HouseholdConsumptionProfileCB = combobox_HouseholdConsumptionProfile_Minutes;
		v_HouseholdProductionProfileCB = combobox_HouseholdProductionProfile_Minutes;
		break;
	
	case HOURS:
		v_HouseholdConsumptionProfileCB = combobox_HouseholdConsumptionProfile_Hours;
		v_HouseholdProductionProfileCB = combobox_HouseholdProductionProfile_Hours;
		break;
		
	case QUARTERS:
		v_HouseholdConsumptionProfileCB = combobox_HouseholdConsumptionProfile_Quarters;
		v_HouseholdProductionProfileCB = combobox_HouseholdProductionProfile_Quarters;	
		break;
}

combobox_HouseholdPopulation.setEnabled(true); // TODO
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>next</LabelText>
		</ExtendedProperties>
	</Control>
	<Control Type="Button">
		<EmbeddedIcon>false</EmbeddedIcon>
		<Id>1692005697867</Id>
		<Name><![CDATA[button_LoadTestData]]></Name>
		<X>440</X>
		<Y>1100</Y>
		<Label>
			<X>0</X>
			<Y>-10</Y>
		</Label>
		<PublicFlag>true</PublicFlag>
		<PresentationFlag>true</PresentationFlag>
		<ShowLabel>false</ShowLabel>
		<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
		<BasicProperties Width="120" Height="30">
			<EmbeddedIcon>false</EmbeddedIcon>
			<TextColor/>
			<Enabled>true</Enabled>
			<ActionCode>self.setEnabled( false );

combobox_EnergyUsageResolution.setEnabled( false );

/* Load test data */

combobox_EnergyUsageResolution.setValue( "HOURS", true );
button_ToAgentPopulationAssumptions.action();

combobox_HouseholdPopulation.setValue( "200" , true );
button_ToHouseholdConsumptionProfileSelection.action();

v_HouseholdConsumptionProfileCB.setValue( "household_cbs_morning_evening_peak", true );
button_ToProsumerHouseholdRatioSelection.action();

radio_ProsumerHouseholdRatio.setValue( 2, true );
button_ToHouseholdProductionProfileSelection.action();

v_HouseholdProductionProfileCB.setValue( "household_sample_solar", true );
button_ToCreateScenario.action();
</ActionCode>
		</BasicProperties>
		<ExtendedProperties>
			<Font Name="Dialog" Size="11" Style="0"/>
			<LabelText>Load Test Data</LabelText>
		</ExtendedProperties>
	</Control>
</Presentation>
